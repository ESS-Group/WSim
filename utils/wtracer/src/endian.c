
/**
 *  \file   endian.c
 *  \brief  Tracer endianess handling
 *  \author Antoine Fraboulet
 *  \date   2006
 **/

#include <inttypes.h>

#include "wsim_endian.h"

/* ************************************************** */
/* ************************************************** */
/* ************************************************** */

char* endian_tostring(int e)
{
  switch (e)
    {
    case 0:  return "BigEndian";
    case 1:  return "LittleEndian";
    default: return "unknown"; 
    }
}


/***************************************************/
/***************************************************/
/***************************************************/

uint16_t endian_swap2(uint16_t v)
{
  uint16_t   r;
  uint8_t  *pv,*pr;

  pv = (uint8_t*)&v;
  pr = (uint8_t*)&r;
  
  pr[0] = pv[1];
  pr[1] = pv[0];

  return r;
}

/***************************************************/
/***************************************************/
/***************************************************/

uint32_t endian_swap4(uint32_t v)
{
  uint32_t   r;
  uint8_t  *pv,*pr;

  pv = (uint8_t*)&v;
  pr = (uint8_t*)&r;
  
  pr[0] = pv[3];
  pr[1] = pv[2];
  pr[2] = pv[1];
  pr[3] = pv[0];

  return r;
}

/***************************************************/
/***************************************************/
/***************************************************/

uint64_t endian_swap8(uint64_t v)
{
  uint64_t   r;
  uint8_t  *pv,*pr;

  pv = (uint8_t*)&v;
  pr = (uint8_t*)&r;
  
  pr[0] = pv[7];
  pr[1] = pv[6];
  pr[2] = pv[5];
  pr[3] = pv[4];
  pr[4] = pv[3];
  pr[5] = pv[2];
  pr[6] = pv[1];
  pr[7] = pv[0];

  return r;
}

/* ************************************************** */
/* ************************************************** */
/* ************************************************** */
